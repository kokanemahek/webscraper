#meta
content_provider:
  name: OSFI
  jurisdiction: CA
  longname: Office of the superintendent of financial institutions
  region: CA
content:
  name: "Proceeds of Crime (Money Laundering) and Terrorist Financing Act"
  enforcer: OSFI
  url: https://lois-laws.justice.gc.ca/eng/acts/P-24.501/FullText.html
content-on-first-level: True
no-label: [debug, part]
no-label-unwrap: [part]
levels: [regulation, part, section, subsection, paragraph, intro]
allow_empty: [subsection]
version:
  source:
    url: https://lois-laws.justice.gc.ca/eng/acts/P-24.501/FullText.html
  version:
    code: latest_version_date
    value: from-code
  format: "%Y-%m-%d"

--- # scraper
rules:
  type: regulation
  title: "Proceeds of Crime (Money Laundering) and Terrorist Financing Act"
  elements:
    source:
      - url: https://lois-laws.justice.gc.ca/eng/acts/P-24.501/FullText.html
      - css: div.docContents
        css-filter: p.AssentedDate, h2.Title-of-Act, p.ChapterNumber, sup, span.wb-invisible, ul.HistoricalNote, div.PITLink, p.Footnote, dt
      - code: clean_content
      - code: mark_types
      - code: identify_level
      - css-slice: h1
      - code: remove_slicer
    element:
      type:
        css: h1
        value: from-css(content_type)
      num:
        css: h1
        value: from-css(data-num)
      title:
        css: h1
        value: from-css(text)
      elements:
        source:
          - css-slice: h2
            css-filter: h1
        element:
          type:
            css: h2
            value: from-css(content_type)
          num:
            css: h2
            value: from-css(data-num)
          title:
            css: h2
            value: from-css(text)
          text:
            ignore: h2
            value: from-html
